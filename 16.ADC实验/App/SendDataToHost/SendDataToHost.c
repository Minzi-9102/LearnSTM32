/*********************************************************************************************************
* 模块名称：SendDataToHost.c
* 摘    要：SendDataToHost模块
* 当前版本：1.0.0
* 作    者：SZLY(COPYRIGHT 2018 - 2020 SZLY. All rights reserved.)
* 完成日期：2020年01月01日 
* 内    容：
* 注    意：                                                                  
**********************************************************************************************************
* 取代版本：
* 作    者：
* 完成日期：
* 修改内容：
* 修改文件：
*********************************************************************************************************/

/*********************************************************************************************************
*                                              包含头文件
*********************************************************************************************************/
#include "SendDataToHost.h"
#include "PackUnpack.h"
#include "UART1.h"
/*********************************************************************************************************
*                                              宏定义
*********************************************************************************************************/

/*********************************************************************************************************
*                                              枚举结构体定义
*********************************************************************************************************/

/*********************************************************************************************************
*                                              内部变量
*********************************************************************************************************/
 
/*********************************************************************************************************
*                                              内部函数声明
*********************************************************************************************************/
static void SendPackToHost(StructPackType* pPackSent);
/*********************************************************************************************************
*                                              内部函数实现
*********************************************************************************************************/
/*********************************************************************************************************
* 函数名称：SendPackToHost
* 函数功能：
* 输入参数：
* 输出参数：
* 返 回 值：
* 创建日期：2018年01月01日
* 注    意：
*********************************************************************************************************/
static void SendPackToHost(StructPackType* pPackSent)
{
	u8 packValid = 0;
	
	packValid = PackData(pPackSent);
	
	if(0 < packValid)
	{
		WriteUART1((u8*)pPackSent,10);
	}
}
/*********************************************************************************************************
*                                              API函数实现
*********************************************************************************************************/
/*********************************************************************************************************
* 函数名称：InitSendDataToHost
* 函数功能：
* 输入参数：
* 输出参数：
* 返 回 值：
* 创建日期：2018年01月01日
* 注    意：
*********************************************************************************************************/
void InitSendDataToHost()
{
	
}

/*********************************************************************************************************
* 函数名称：SendAckPack
* 函数功能：
* 输入参数：
* 输出参数：
* 返 回 值：
* 创建日期：2018年01月01日
* 注    意：
*********************************************************************************************************/
void SendAckPack(u8 moduleId,u8 secondId,u8 ackMsg)
{
	StructPackType pt;
	
	pt.packModuleId = MODULE_SYS;
	pt.packSecondId = DAT_CMD_ACK;
	pt.arrData[0] = moduleId;
	pt.arrData[1] = secondId;
	pt.arrData[2] = ackMsg;
	pt.arrData[3] = 0;
	pt.arrData[4] = 0;
	pt.arrData[5] = 0;
	
	SendPackToHost(&pt);
}

/*********************************************************************************************************
* 函数名称：SendWaveToHost
* 函数功能：
* 输入参数：
* 输出参数：
* 返 回 值：
* 创建日期：2018年01月01日
* 注    意：
*********************************************************************************************************/
void SendWaveToHost(u8* pWaveData)
{
	StructPackType pt;
	
	pt.packModuleId = MODULE_WAVE;
	pt.packSecondId = DAT_WAVE_WDATA;
	pt.arrData[0] = pWaveData[0];
	pt.arrData[1] = pWaveData[1];
	pt.arrData[2] = pWaveData[2];
	pt.arrData[3] = pWaveData[3];
	pt.arrData[4] = pWaveData[4];
	pt.arrData[5] = 0;
	
	SendPackToHost(&pt);	
}